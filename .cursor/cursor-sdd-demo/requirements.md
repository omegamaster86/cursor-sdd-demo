# 要件ドキュメント

## はじめに
本ドキュメントは、在庫管理システムの要件を定義する。このシステムは、商品の入出庫管理、在庫残高の可視化、在庫移動の追跡を実現し、効率的な在庫運用を支援する。

## 要件

### 要件 1: 商品マスタ管理
**目的:** 在庫管理者として、商品情報を登録・編集・削除したい。それにより正確な在庫管理の基盤を構築できる。

#### 受け入れ基準
1. The 在庫管理システム shall 商品コード、商品名、カテゴリ、単位を登録できる
2. When 商品情報の編集ボタンをクリック, the 在庫管理システム shall 商品情報の編集画面を表示
3. When 商品情報の保存ボタンをクリック, the 在庫管理システム shall 入力内容を検証し保存
4. If 必須項目が未入力, then the 在庫管理システム shall エラーメッセージを表示
5. If 既に登録済みの商品コードを入力, then the 在庫管理システム shall 重複エラーを表示
6. When 商品の削除ボタンをクリック, the 在庫管理システム shall 確認ダイアログを表示
7. The 在庫管理システム shall 商品一覧を検索・絞り込み表示できる

### 要件 2: 入庫管理
**目的:** 在庫管理者として、商品の入庫を記録したい。それにより在庫の増加を正確に追跡できる。

#### 受け入れ基準
1. When 入庫登録画面を開く, the 在庫管理システム shall 商品選択、数量入力、入庫日、備考の入力フォームを表示
2. The 在庫管理システム shall 入庫数量は正の整数のみ受け付ける
3. When 入庫を登録, the 在庫管理システム shall 在庫残高を入庫数量分増加
4. The 在庫管理システム shall 入庫履歴を日時、商品、数量、担当者とともに記録
5. If 商品が未選択, then the 在庫管理システム shall エラーメッセージを表示
6. The 在庫管理システム shall 入庫履歴を一覧表示できる

### 要件 3: 出庫管理
**目的:** 在庫管理者として、商品の出庫を記録したい。それにより在庫の減少を正確に追跡できる。

#### 受け入れ基準
1. When 出庫登録画面を開く, the 在庫管理システム shall 商品選択、数量入力、出庫日、出庫先、備考の入力フォームを表示
2. The 在庫管理システム shall 出庫数量は正の整数のみ受け付ける
3. When 出庫を登録, the 在庫管理システム shall 在庫残高を出庫数量分減少
4. If 出庫数量が在庫残高を超える, then the 在庫管理システム shall 警告メッセージを表示し登録を制限
5. The 在庫管理システム shall 出庫履歴を日時、商品、数量、出庫先、担当者とともに記録
6. The 在庫管理システム shall 出庫履歴を一覧表示できる

### 要件 4: 在庫照会
**目的:** 在庫管理者として、現在の在庫状況を確認したい。それにより適切な在庫判断ができる。

#### 受け入れ基準
1. The 在庫管理システム shall 商品ごとの現在在庫数を一覧表示
2. The 在庫管理システム shall 商品名、商品コード、カテゴリで検索・絞り込みできる
3. The 在庫管理システム shall 在庫数の昇順・降順で並び替えできる
4. When 商品行をクリック, the 在庫管理システム shall その商品の入出庫履歴を表示
5. The 在庫管理システム shall 在庫数が0の商品を強調表示
6. The 在庫管理システム shall 在庫一覧をCSV形式でエクスポートできる

### 要件 5: 在庫移動管理
**目的:** 在庫管理者として、倉庫間や保管場所間の在庫移動を記録したい。それにより在庫の所在を正確に把握できる。

#### 受け入れ基準
1. When 在庫移動登録画面を開く, the 在庫管理システム shall 商品、移動元、移動先、数量、移動日の入力フォームを表示
2. The 在庫管理システム shall 移動数量は正の整数のみ受け付ける
3. When 在庫移動を登録, the 在庫管理システム shall 移動元の在庫を減少し移動先の在庫を増加
4. If 移動数量が移動元の在庫残高を超える, then the 在庫管理システム shall エラーメッセージを表示
5. The 在庫管理システム shall 在庫移動履歴を記録
6. The 在庫管理システム shall 在庫移動履歴を一覧表示できる

### 要件 6: ユーザー認証とアクセス制御
**目的:** システム管理者として、ユーザーのアクセスを制御したい。それによりセキュリティを確保できる。

#### 受け入れ基準
1. The 在庫管理システム shall ユーザーIDとパスワードによるログイン機能を提供
2. If ログイン情報が不正, then the 在庫管理システム shall エラーメッセージを表示しログインを拒否
3. When ログインに成功, the 在庫管理システム shall ユーザーのセッションを確立
4. The 在庫管理システム shall 一定時間操作がない場合は自動的にログアウト
5. The 在庫管理システム shall ユーザーの役割（管理者、一般ユーザー）に応じて機能へのアクセスを制限
6. The 在庫管理システム shall すべての操作ログをユーザーIDとともに記録

### 要件 7: レポートとダッシュボード
**目的:** 在庫管理者として、在庫状況を視覚的に把握したい。それにより迅速な意思決定ができる。

#### 受け入れ基準
1. The 在庫管理システム shall ダッシュボード画面で総在庫数、在庫金額、在庫切れ商品数を表示
2. The 在庫管理システム shall カテゴリ別在庫数をグラフで表示
3. The 在庫管理システム shall 期間を指定して入出庫レポートを生成できる
4. The 在庫管理システム shall 在庫回転率を計算し表示
5. The 在庫管理システム shall 在庫アラート（在庫切れ、過剰在庫）を表示
6. The 在庫管理システム shall レポートをPDF形式でエクスポートできる

## 成果物（推奨）
このフェーズの出力を **設計の一次ソース** に落とし込むため、要件ドラフトが出た時点で以下を作成/更新する。

※ 自動初期作成（上書き禁止）のルールは `.cursor/rules/artifacts-generation.md` を参照。

- `.cursor/cursor-sdd-demo/artifacts/feature-list.md`（MVP/Phase と UI/API/Batch の一覧）

テンプレート:
- `.cursor/templates/artifacts/create-feature-list.md`

---

## 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
| ---- | ---------- | ------ | -------- |
| 2025-12-15 | v1.0 |  | 初版作成 |
| 2025-12-15 | v1.1 |  | 要件生成完了 |
