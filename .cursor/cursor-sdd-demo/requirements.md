# 要件ドキュメント

## はじめに
問題演習用の管理画面を提供するシステム。管理者が問題の作成・編集・削除を行い、問題を解くユーザー（学習者）のアカウント管理も行える。問題にはカテゴリと難易度を設定でき、検索・フィルタ機能で効率的に管理できる。

## 要件

### 要件 1: 問題管理
**目的:** 管理者として、問題の作成・編集・削除を行いたい。それにより学習者に提供する問題コンテンツを柔軟に管理できる。

#### 受け入れ基準
1. When 管理者が問題作成ボタンをクリック, the 管理画面 shall 問題作成フォームを表示する
2. When 管理者が問題作成フォームを送信, the システム shall 新しい問題をデータベースに保存する
3. When 管理者が問題一覧から問題を選択, the 管理画面 shall 問題詳細・編集画面を表示する
4. When 管理者が問題編集フォームを送信, the システム shall 問題情報を更新する
5. When 管理者が問題削除ボタンをクリック, the システム shall 確認ダイアログを表示する
6. When 管理者が削除を確認, the システム shall 問題をデータベースから削除する
7. If 必須項目が未入力, then the システム shall バリデーションエラーを表示する
8. The 問題作成・編集フォーム shall カテゴリ選択フィールドを含む
9. The 問題作成・編集フォーム shall 難易度選択フィールド（初級/中級/上級）を含む

### 要件 2: ユーザー管理
**目的:** 管理者として、問題を解くユーザー（学習者）の登録・編集・削除を行いたい。それにより学習者のアカウントを適切に管理できる。

#### 受け入れ基準
1. When 管理者がユーザー登録ボタンをクリック, the 管理画面 shall ユーザー登録フォームを表示する
2. When 管理者がユーザー登録フォームを送信, the システム shall 新しいユーザーをデータベースに保存する
3. When 管理者がユーザー一覧からユーザーを選択, the 管理画面 shall ユーザー詳細・編集画面を表示する
4. When 管理者がユーザー編集フォームを送信, the システム shall ユーザー情報を更新する
5. When 管理者がユーザー削除ボタンをクリック, the システム shall 確認ダイアログを表示する
6. When 管理者が削除を確認, the システム shall ユーザーをデータベースから削除する
7. If メールアドレスが重複, then the システム shall 重複エラーを表示する
8. If 必須項目が未入力, then the システム shall バリデーションエラーを表示する

### 要件 3: 問題一覧表示
**目的:** 管理者として、登録済みの問題を一覧で確認したい。それにより問題の全体像を把握し効率的に管理できる。

#### 受け入れ基準
1. When 管理者が問題管理メニューを選択, the 管理画面 shall 問題一覧を表示する
2. The 問題一覧 shall 問題ID・タイトル・カテゴリ・難易度・作成日時・更新日時を表示する
3. Where ページネーションが有効, the システム shall 1ページあたり指定件数で表示する

### 要件 4: ユーザー一覧表示
**目的:** 管理者として、登録済みのユーザーを一覧で確認したい。それによりユーザーの全体像を把握し効率的に管理できる。

#### 受け入れ基準
1. When 管理者がユーザー管理メニューを選択, the 管理画面 shall ユーザー一覧を表示する
2. The ユーザー一覧 shall ユーザーID・名前・メールアドレス・登録日時を表示する
3. Where ページネーションが有効, the システム shall 1ページあたり指定件数で表示する

### 要件 5: カテゴリ管理
**目的:** 管理者として、問題のカテゴリを管理したい。それにより問題を体系的に分類できる。

#### 受け入れ基準
1. When 管理者がカテゴリ管理メニューを選択, the 管理画面 shall カテゴリ一覧を表示する
2. When 管理者がカテゴリ作成ボタンをクリック, the 管理画面 shall カテゴリ作成フォームを表示する
3. When 管理者がカテゴリ作成フォームを送信, the システム shall 新しいカテゴリをデータベースに保存する
4. When 管理者がカテゴリ編集ボタンをクリック, the 管理画面 shall カテゴリ編集フォームを表示する
5. When 管理者がカテゴリ削除ボタンをクリック, the システム shall 確認ダイアログを表示する
6. If カテゴリに紐づく問題が存在, then the システム shall 削除不可のエラーを表示する

### 要件 6: 問題検索・フィルタ
**目的:** 管理者として、問題をキーワード検索やカテゴリ・難易度でフィルタしたい。それにより目的の問題を素早く見つけられる。

#### 受け入れ基準
1. When 管理者がキーワードを入力して検索, the システム shall タイトル・本文に一致する問題を表示する
2. When 管理者がカテゴリフィルタを選択, the システム shall 選択カテゴリに属する問題のみを表示する
3. When 管理者が難易度フィルタを選択, the システム shall 選択難易度の問題のみを表示する
4. When 管理者が複数フィルタを組み合わせ, the システム shall すべての条件に一致する問題を表示する
5. When 管理者がフィルタをクリア, the システム shall すべての問題を表示する

---

## 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
| ---- | ---------- | ------ | -------- |
| 2024/12/23 | v1.0 | - | 初版作成 |
| 2024/12/23 | v1.1 | - | 要件定義（問題管理・ユーザー管理）を追加 |
| 2024/12/23 | v1.2 | - | カテゴリ・難易度・検索フィルタ要件を追加 |
