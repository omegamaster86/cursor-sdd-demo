# 機能一覧（cursor-sdd-demo）

**目的**: プロダクトのスコープ（MVP/Phase）と、UI/API/バッチの一覧を“合意の一次ソース”として固定する。
**作成/更新タイミング**: `/requirements` の直後（要件ドラフトが出たらまず作る）。詳細は `.cursor/templates/artifacts/artifacts_rules.md`。

---

## 1. 画面機能

| 機能 ID | 画面名 | 説明 | 優先度 | Phase | 記載者 |
| ------- | ------ | ---- | ------ | ----- | ------ |
| UI-001  | 在庫一覧 | SKU × ロケーション（必要ならロット/期限）単位で在庫を一覧表示。検索/絞り込み/並び替えを提供。 | High | MVP | |
| UI-002  | 在庫詳細 | 指定SKUの在庫内訳（ロケーション/ロット/履歴）を表示する。 | High | MVP | |
| UI-003  | 入出庫登録 | 入庫/出庫/移動/調整（棚卸差異含む）を登録できる。 | High | MVP | |
| UI-004  | マスタ管理 | 商品/SKU/ロケーション（必要なら取引先等）のCRUDを提供する。 | High | MVP | |
| UI-005  | 受払履歴 | 受払（在庫変動）履歴を検索・閲覧・エクスポートできる。 | Medium | MVP | |
| UI-006  | ユーザー/権限 | ユーザーと権限（ロール）の管理を行える。 | Medium | Phase2 | |
| UI-007  | アラート設定 | 閾値や通知対象の設定を行える。 | Low | Phase2 | |

**記載ルール**
- Phase は `MVP`, `Phase2`, `Phase3`… のように段階を明示
- 説明は「ユーザー価値 + 主要な入出力」まで（HOW は書かない）

---

## 2. API 機能

| 機能 ID | API 名 | エンドポイント | メソッド | 説明 | レベル | 実装方法 | 優先度 | Phase | 記載者 |
| ------- | ------ | -------------- | -------- | ---- | ------ | -------- | ------ | ----- | ------ |
| API-001 | 在庫一覧取得 | /v1/inventories | GET | 在庫を検索条件付きで一覧取得する。 | B | Server API | High | MVP | |
| API-002 | 在庫詳細取得 | /v1/inventories/{inventoryId} | GET | 在庫内訳と最新状態を取得する。 | B | Server API | High | MVP | |
| API-003 | 在庫変動登録 | /v1/stock-movements | POST | 入庫/出庫/移動/調整を登録し、在庫を更新する。 | A | Server API | High | MVP | |
| API-004 | マスタCRUD | /v1/masters/... | GET/POST/PATCH/DELETE | 商品/SKU/ロケーション等のCRUDを提供する。 | C | Server API | High | MVP | |
| API-005 | 受払履歴検索 | /v1/stock-movements | GET | 受払履歴を検索・取得する。 | B | Server API | Medium | MVP | |
| API-006 | エクスポート | /v1/exports/stock-movements | POST | 条件に合致する受払履歴をエクスポートする。 | B | Server API | Low | Phase2 | |

**レベル定義（例）**:
- **A**: 複雑なビジネスロジック/外部連携/非同期など
- **B**: 複数テーブル結合/集計/加工あり
- **C**: 単テーブルCRUD相当

---

## 3. バッチ機能

| 機能 ID | バッチ名 | 実行タイミング | 説明 | 優先度 | Phase | 記載者 |
| ------- | -------- | -------------- | ---- | ------ | ----- | ------ |
| BT-001  | 在庫アラート判定 | 任意（例：日次） | 閾値超過・期限切れ等の条件を判定し通知対象を生成する。 | Low | Phase2 | |

---

## 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
| ---- | ---------- | ------ | -------- |
| 2025-12-14 | v1.0 | kanbaramasatoshi | 初版作成 |
