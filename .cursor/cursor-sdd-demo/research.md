# 調査 & 設計決定

## 概要
- **機能**: cursor-sdd-demo（アンケートアプリ管理画面）
- **発見スコープ**: 新機能（グリーンフィールド）- シンプル構成
- **主な発見事項**:
  - Next.js 16 + React 19 の既存スタックを活用
  - 認証・グラフ・D&D は MVP スコープ外
  - Prisma + PostgreSQL でデータ永続化

## 調査ログ

### 技術スタック選定
- **コンテキスト**: 既存の package.json に Next.js 16.0.10、React 19.2.1 がインストール済み
- **発見事項**:
  - Next.js 16 + React 19 の最新構成
  - Tailwind CSS 4 + Biome がセットアップ済み
  - 追加ライブラリは Prisma のみ
- **影響**: 既存スタックを最大限活用

### スコープ決定
- **コンテキスト**: MVP として最小限の機能に絞る
- **除外した機能**:
  - 認証（iron-session）→ 後続フェーズ
  - グラフ可視化（recharts）→ 後続フェーズ
  - D&D 並び替え（@dnd-kit）→ 後続フェーズ
- **含める機能**:
  - アンケート一覧・作成・編集
  - 回答結果一覧（回答者一覧）
  - お知らせ一覧・作成・編集

## 設計決定

### 決定: データベース
- **選択したアプローチ**: PostgreSQL + Prisma
- **根拠**: 型安全な ORM、マイグレーション管理

### 決定: ページ構成
- **選択したアプローチ**: Next.js App Router
- **根拠**: Server Components 優先、既存セットアップ活用

## リスク & 軽減策
- **認証なしでの運用** — MVP 期間限定、早期に認証追加

## 参考文献
- [Next.js App Router Docs](https://nextjs.org/docs/app)
- [Prisma Docs](https://www.prisma.io/docs)

---

## 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
| ---- | ---------- | ------ | -------- |
| 2024-12-21 | v1.0 | | 初版作成 |
| 2024-12-21 | v1.1 | | スコープ見直し |
